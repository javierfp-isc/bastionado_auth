# SSL VirtualHost
<VirtualHost _default_:443>
    ServerAdmin admin@example.com
    ServerName apache.brs.localhost

    DocumentRoot "/usr/local/apache2/htdocs"
    ErrorLog "/usr/local/apache2/logs/ssl_error.log"
    CustomLog "/usr/local/apache2/logs/ssl_access.log" combined

    # Enable SSL
    SSLEngine off
    SSLCertificateFile "/usr/local/apache2/pki/services/apache.pem"
    SSLCertificateKeyFile "/usr/local/apache2/pki/services/apache-key.pem"

    # Optional: if you have an intermediate CA chain, append it to apache.pem
    # SSLCertificateChainFile "/etc/apache2/pki/services/chain.pem"

    <Directory "/usr/local/apache2/htdocs">
        Options Indexes FollowSymLinks
        AllowOverride None
        Require all granted
    </Directory>

    # Secure SSL settings
    SSLProtocol all -SSLv3 -TLSv1 -TLSv1.1
    SSLCipherSuite HIGH:!aNULL:!MD5
    SSLHonorCipherOrder on
</VirtualHost>

# Optional: redirect HTTP to HTTPS
<VirtualHost *:80>
    ServerName apache.brs.localhost
    DocumentRoot "/usr/local/apache2/htdocs"

    RewriteEngine On
    RewriteRule ^/?(.*) https://%{SERVER_NAME}/$1 [R=301,L]
</VirtualHost>
